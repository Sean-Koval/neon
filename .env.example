# Neon Agent Ops Platform - Environment Variables
# Copy this file to .env and update with your values
#
# See docs/self-hosting.md for detailed documentation

# ==================== Database (PostgreSQL) ====================
# Metadata storage for projects, API keys, eval configs
DATABASE_URL=postgresql://neon:neon@localhost:5432/neon

# ==================== ClickHouse ====================
# Trace, span, and score storage
# Use URL format for Docker, or individual vars for cloud
CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_DATABASE=neon
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# Alternative: Individual connection parameters
# CLICKHOUSE_HOST=localhost
# CLICKHOUSE_PORT=8123

# ==================== Temporal ====================
# Workflow orchestration for durable eval execution
TEMPORAL_ADDRESS=localhost:7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=agent-workers

# ==================== LLM Providers ====================
# Required for LLM-based scorers (llmJudge, safetyJudge, etc.)
# At least one provider key is needed for LLM scoring
#
# Provider is auto-detected from model name (claude-* → anthropic, gpt-* → openai,
# gemini-* → vertex-ai). Override with NEON_LLM_PROVIDER if needed.

# Anthropic (Claude) - default provider
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI (GPT-4, o1, o3)
OPENAI_API_KEY=sk-...

# OpenAI-compatible (vLLM, Ollama, LiteLLM) - set base URL + NEON_LLM_PROVIDER=openai-compatible
# NEON_LLM_BASE_URL=http://localhost:8000/v1

# Google Vertex AI (Gemini, Llama, Gemma)
# GOOGLE_CLOUD_PROJECT=your-gcp-project
# GOOGLE_CLOUD_REGION=us-central1
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# Force a specific provider (overrides model-name auto-detection)
# NEON_LLM_PROVIDER=anthropic|openai|vertex-ai|vertex-claude|openai-compatible

# ==================== Authentication (NextAuth) ====================
# REQUIRED: Secret for signing session tokens
# Generate with: openssl rand -base64 32
AUTH_SECRET=

# GitHub OAuth (create at https://github.com/settings/developers)
# Set callback URL to: http://localhost:3000/api/auth/callback/github
AUTH_GITHUB_ID=
AUTH_GITHUB_SECRET=

# Set to "true" to bypass auth for local development/demos
AUTH_DEV_BYPASS=false

# ==================== Security ====================
# Secret key for signing sessions/tokens (legacy, being replaced by AUTH_SECRET)
NEON_SECRET_KEY=your-secret-key-change-in-production-min-32-chars

# API key for external clients (optional)
# Generate with: openssl rand -hex 32
NEON_API_KEY=

# ==================== Frontend ====================
# Public URL for API (used by frontend)
NEXT_PUBLIC_API_URL=http://localhost:3000

# Disable Next.js telemetry
NEXT_TELEMETRY_DISABLED=1

# ==================== OpenTelemetry ====================
# OTel Collector endpoint for trace export
# Services inside Docker Compose use http://otel-collector:4318 automatically.
# Set this for local development (running services outside Docker):
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Deployment environment tag added to all traces
DEPLOYMENT_ENV=development

# ==================== Development ====================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# Default project ID for development
DEFAULT_PROJECT_ID=00000000-0000-0000-0000-000000000001

# ==================== Optional: Streaming (Redpanda) ====================
# High-throughput trace ingestion via Kafka-compatible streaming
# REDPANDA_BROKERS=localhost:9092
# REDPANDA_SASL_USERNAME=
# REDPANDA_SASL_PASSWORD=

# ==================== Optional: Cloud Services ====================
# Use managed services instead of Docker

# ClickHouse Cloud
# CLICKHOUSE_URL=https://your-instance.clickhouse.cloud:8443
# CLICKHOUSE_USER=default
# CLICKHOUSE_PASSWORD=your-password

# Temporal Cloud
# TEMPORAL_ADDRESS=your-namespace.tmprl.cloud:7233
# TEMPORAL_NAMESPACE=your-namespace
# TEMPORAL_TLS_CERT_PATH=/path/to/cert.pem
# TEMPORAL_TLS_KEY_PATH=/path/to/key.pem

# Neon Cloud (managed Neon - future)
# NEON_CLOUD_URL=https://api.neon.example.com
# NEON_CLOUD_API_KEY=your-cloud-api-key
